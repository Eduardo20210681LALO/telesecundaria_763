name: Hola Mundo

on: [push]

jobs:
  uno:
    runs-on: ubuntu-latest
    steps:
      - name: Mensaje
        run: echo "Hola mundo!!!"
        
      - name: Touch file  # Crea
        run: |
          touch hola.txt
          ls -al
          
      - name: Set text  # Agrega
        run: |
          echo "Hola mundo" >> hola.txt
          ls -al
          
      - name: Read file  # Lee
        run: |
          cat hola.txt
          ls -al

  dos:
    runs-on: ubuntu-latest
    needs: [uno]
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Directorio
        run: ls -al

      - name: Install dependencies
        run: npm install

      - name: Start local server
        run: npm run dev &
        env:
          CI: true

      - name: Wait for server to start
        run: sleep 10

      # Selenium IDE Website Tester
      - name: Selenium IDE Website Tester
        uses: Dylan700/selenium-ide-action@v1.1.3
        with:
          url: "http://localhost:5173/EstadisticasGrupalDocent"
          test: "tests/mis-pruebas.side"  # Ruta al archivo .side de Selenium IDE con las pruebas
